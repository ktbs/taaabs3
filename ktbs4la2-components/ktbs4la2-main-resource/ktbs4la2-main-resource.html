<article id="container" class="pending view">
	<header id="header">
		<ul id="breadcrumbs">
			<slot name="breadcrumbs"></slot>
		</ul>

		<div id="resource-description-container">
			<div id="resource-type-description">
				<div id="resource-type-icon"></div>
				<div id="resource-type-label"></div>
			</div>

			<div id="resource-description">
				<h1 id="title" class="view"></h1>

				<ktbs4la2-multiple-translations-text-input 
					id="edit-label-input"
					class="edit"
					placeholder="{translate: 'Label'}"
					tabindex="1">
				</ktbs4la2-multiple-translations-text-input>

				<a id="resource-link" target="_blank" title="{translate: 'See the resource on the REST console (opens in a new tab)'}"></a>
				
				<div id="resource-status">
					<div id="resource-status-label">{translate: 'Pending...'}</div>
					<a id="disconnect-button" title="{translate: 'Disconnect'}"></a>
					<div id="error-message"></div>
				</div>
			</div>
		</div>
        
        <div id="resource-tools">
            <a id="tool-edit" class="resource-tool view" title="{translate: 'Edit'}"></a>
			<a id="tool-remove" class="resource-tool view" title="{translate: 'Delete'}"></a>
			<a id="tool-save-modifications" class="resource-tool edit" title="{translate: 'Save modifications'}" tabindex="8"></a>
			<a id="tool-cancel-modifications" class="resource-tool edit" title="{translate: 'Cancel modifications'}" tabindex="9"></a>
        </div>

        <div id="resource-about" class="folded">
			<a id="resource-about-toggle" title="{translate: 'Show additional informations'}"></a>

			<div id="resource-about-content">
				<p id="root-comment"></p>

				<div id="ktbs-version" class="view">
					<span id="version-label">{translate: 'Version'}</span> : 
					<span id="root-version"></span>
				</div>

				<ul id="root-builin-methods" class="view">
					<h2 id="root-builin-methods-header">{translate: 'Builtin methods'}:</h2>
				</ul>
			</div>
		</div>

		<div id="fold-header-button" title="{translate: 'Condense header'}" class="view"></div>
	</header>

	<section id="resource-contents">
        <section id="resource-head-content">
            <slot name="head-content"></slot>
        </section>

		<!-- Childs resources (KtbsRoot & Base) -->

		<ktbs4la2-main-subsection id="child-bases" title="{translate: 'Bases'} :" foldable="true" expanded="true" class="view">
			<slot name="bases"></slot>
			<button class="add-resource-button" id="add-base-button" title="{translate: 'Create a new base'}">+</button>
		</ktbs4la2-main-subsection>

		<ktbs4la2-main-subsection id="child-models" title="{translate: 'Models'} :" foldable="true" expanded="true" class="view">
			<slot name="models"></slot>
			<button class="add-resource-button" id="add-model-button" title="{translate: 'Create a new model'}">+</button>
		</ktbs4la2-main-subsection>

		<ktbs4la2-main-subsection id="child-stored-traces" title="{translate: 'Stored traces'} :" foldable="true" expanded="true" class="view">
			<slot name="stored-traces"></slot>
			<button class="add-resource-button" id="add-storedtrace-button" title="{translate: 'Create a new stored trace'}">+</button>
		</ktbs4la2-main-subsection>

		<ktbs4la2-main-subsection id="child-methods" title="{translate: 'Methods'} :" foldable="true" expanded="true" class="view">
			<slot name="methods"></slot>
			<button class="add-resource-button" id="add-method-button" title="{translate: 'Create a new method'}">+</button>
		</ktbs4la2-main-subsection>

		<ktbs4la2-main-subsection id="child-computed-traces" title="{translate: 'Computed traces'} :" foldable="true" expanded="true" class="view">
			<slot name="computed-traces"></slot>
			<button class="add-resource-button" id="add-computedtrace-button" title="{translate: 'Create a new computed trace'}">+</button>
		</ktbs4la2-main-subsection>

		<!-- Resource's data -->

		<ktbs4la2-main-subsection id="resource-data" title="{translate: 'Resource details'} :" foldable="true" expanded="false">	
			<p id="parent-method">
				<label id="parent-method-label" for="parent-method-picker">{translate: 'Parent method'} :</label>
				
				<slot name="parent-method" class="view"></slot>

				<ktbs4la2-resource-picker
					id="parent-method-picker"
					name="parent-method-picker"
					allowed-resource-types="Method"
					class="edit"
					tabindex="2"
					required>
				</ktbs4la2-resource-picker>
			</p>

			<p id="model">
				<label id="model-label" for="model-picker">{translate: 'Model'} :</label>

				<slot name="model" class="view"></slot>

				<ktbs4la2-resource-picker
					id="model-picker"
					name="model-picker"
					allowed-resource-types="Model"
					class="edit"
					tabindex="3"
					required>
				</ktbs4la2-resource-picker>
			</p>

			<p id="origin">
				<label for="origin-input" id="origin-label">{translate: 'Origin'} :</label>
				<input type="text" id="origin-input" tabindex="4" class="edit" placeholder="{translate: 'Origin'}" />
				<span id="origin-display" class="view"></span>
			</p>

			<p id="method">
				<label id="method-label" for="method-picker">{translate: 'Method'}  :</label>

				<slot name="method" class="view"></slot>

				<ktbs4la2-resource-picker
					id="method-picker"
					name="method-picker"
					allowed-resource-types="Method"
					class="edit"
					tabindex="5"
					required>
				</ktbs4la2-resource-picker>
			</p>

			<p id="source-traces" class="notset">
				<label id="single-source-trace-label" for="single-source-trace-picker">{translate: 'Source trace'}  :</label>
				<label id="multiple-source-traces-label" for="multiple-source-traces-picker">{translate: 'Source traces'}  :</label>

				<slot name="source-trace" class="view"></slot>

				<span id="source-trace-method-not-set-message">{translate: "You have to choose a method first."}</span>

				<ktbs4la2-resource-picker
					id="single-source-trace-picker"
					name="single-source-trace-picker"
					allowed-resource-types="StoredTrace ComputedTrace"
					tabindex="6"
					class="edit"
					required>
				</ktbs4la2-resource-picker>

				<ktbs4la2-multiple-resources-picker
					id="multiple-source-traces-picker"
					name="multiple-source-traces-picker"
					allowed-resource-types="StoredTrace ComputedTrace"
					tabindex="7"
					class="edit"
					required>
				</ktbs4la2-multiple-resources-picker>
			</p>

			<p id="parameters">
				<label id="parameters-label" for="parameters-input">{translate: 'Parameters'} :</label>

				<slot name="parameters" class="view"></slot>

				<ktbs4la2-method-parameters-input
					id="parameters-input"
					name="parameters-input"
					tabindex="8"
					class="edit">
				</ktbs4la2-method-parameters-input>
			</p>
		</ktbs4la2-main-subsection>

		<ktbs4la2-main-subsection id="obsels" title="{translate: 'Obsels'} :" foldable="true" expanded="true" class="view">
			<ktbs4la2-icon-tabs-group>
				<ktbs4la2-icon-tab id="timeline-tab" title="{translate: 'Timeline view'}" icon="{my-component-folder}/timeline.svg">
					<div style="height: 400px;">
						<slot name="obsels-timeline"></slot>
					</div>
				</ktbs4la2-icon-tab>

				<ktbs4la2-icon-tab id="table-tab" title="{translate: 'Table view'}" icon="{my-component-folder}/table.svg">
					<div style="height: 400px;">
						<slot name="obsels-table"></slot>
					</div>
				</ktbs4la2-icon-tab>
			</ktbs4la2-icon-tabs-group>
		</ktbs4la2-main-subsection>

		<ktbs4la2-main-subsection id="stats" title="{translate: 'Statistics'} :" foldable="true" expanded="true" class="view">
			<slot name="stats"></slot>
		</ktbs4la2-main-subsection>
	</section>

	<section id="authentication">
		<form id="authentication-form">
			<h2>{translate: 'Authentication'}</h2>

			<p id="auth-error-message"></p>

			<p class="textfield">
				<label for="username">{translate: 'User name'}<span class="required-field">*</span> : </label>
				<input name="username" id="username" type="text" required />
			</p>
		
			<p class="textfield">
				<label for="password">{translate: 'Password'}<span class="required-field">*</span> : </label>
				<input name="password" id="password" type="password" required />
			</p>
			
			<h3>{translate: 'Keep me signed in'}:</h3>

			<p id="auth_validity_options">	
				<input type="radio" name="auth_validity" id="auth_validity_session" value="session" checked /><label for="auth_validity_session">{translate: 'Just for this session'}</label>
				<br>
				<input type="radio" name="auth_validity" id="auth_validity_permanent" value="permanent" /><label for="auth_validity_permanent">{translate: 'Permanently'}</label>
			</p>

			<p id="buttons">
				<button type="submit" id="validate-authentication" disabled>{translate: 'Authenticate'}</button>
			</p>
		</form>
	</section>
</article>